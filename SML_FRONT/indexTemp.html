<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- 기본indexTemp.css -->
    <link rel="stylesheet" href="css/style.css"/>    

    <!-- 중앙부에 게속 css로 꾸밀 미들부분 (href에 css네임 게속 바꿔서 넣기) -->
    <link rel="stylesheet" href="css/quoteIndex.css"/>    

    <!-- 구글 아이콘 -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- 구글 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="/res/js/template/scripts.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js" integrity="sha384-qlmct0AOBiA2VPZkMY3+2WqkHtIQ9lSdAsAn5RUJD/3vA5MKDgSGcdmIv4ycVxyn" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<body style="background-color: #212529;">


    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark" style="height: 80px;">
        <!-- Navbar Brand-->
        <a class="navbar-brand ps-3" href="/temp/index" style="font-size: 2em;">SML</a>
        <!-- Sidebar Toggle-->
        <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i class="fas fa-bars"></i></button>
        <div style="display: inline-block;">
            <a href="https://www.tradingview.com/chart/?symbol=NASDAQ%3AAAPL" target="_blank">TradingView</a>
            <a href="https://upbit.com/exchange?code=CRIX.UPBIT.KRW-BTC" target="_blank" style="margin-left: 5%;">Upbit</a>                
        </div>
        <!-- Navbar Search-->
        <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
            <div class="input-group">
                <input class="form-control" type="text" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch" />
                <button class="btn btn-primary" id="btnNavbarSearch" type="button"><i class="fas fa-search"></i></button>
            </div>
        </form>
        <!-- Navbar-->
        <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-user fa-fw"></i></a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                    <li><a id="moveToMyPage" class="dropdown-item" href="#!">마이페이지</a></li>
                    <li><a id="btn-open-popup" class="dropdown-item" href="#!">평단계산기</a></li>
                    <li><a class="dropdown-item" onclick="fnCancleAutoTrade();">전체자동매수취소</a></li>
                    <li><hr class="dropdown-divider" /></li>
                    <li><a class="dropdown-item" href="/user/logout">Logout</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                <div class="sb-sidenav-menu">
                    <div class="nav">
                        <div class="sb-sidenav-menu-heading">Core</div>
                        <a class="nav-link" href="/temp/index">
                            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
                            Dashboard
                        </a>
                        <div class="sb-sidenav-menu-heading">Interface</div>
                        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseLayouts" aria-expanded="false" aria-controls="collapseLayouts">
                            <div class="sb-nav-link-icon"><i class="fas fa-columns"></i></div>
                            Quote
                        <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                        </a>
                        <div class="collapse" id="collapseLayouts" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
                            <nav class="sb-sidenav-menu-nested nav">
                                <a class="nav-link" href="/quote/quote_race">Race (10:00am)</a>
                                <a class="nav-link" href="/pump/pumpRaceIndex">Pump (Race)</a>
                                <a class="nav-link" href="/quote/quote_day">Day (08:55am)</a>
                                <a class="nav-link" href="/pump/pumpDayIndex">Pump (Day)</a>
                                <a class="nav-link" href="/api/upbitMyListTest">CoinMyListTest---*</a>
                            </nav>
                        </div>
                        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapsePages" aria-expanded="false" aria-controls="collapsePages">
                            <div class="sb-nav-link-icon"><i class="fas fa-book-open"></i></div>
                            Pages
                            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                        </a>
                        <div class="collapse" id="collapsePages" aria-labelledby="headingTwo" data-bs-parent="#sidenavAccordion">
                            <nav class="sb-sidenav-menu-nested nav accordion" id="sidenavAccordionPages">
                                <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#pagesCollapseAuth" aria-expanded="false" aria-controls="pagesCollapseAuth">
                                    Authentication
                                    <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                                </a>
                                <div class="collapse" id="pagesCollapseAuth" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordionPages">
                                    <nav class="sb-sidenav-menu-nested nav">
                                        <a class="nav-link" href="login.html">Login</a>
                                        <a class="nav-link" href="register.html">Register</a>
                                        <a class="nav-link" href="password.html">Forgot Password</a>
                                    </nav>
                                </div>
                                <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#pagesCollapseError" aria-expanded="false" aria-controls="pagesCollapseError">
                                    Error
                                    <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                                </a>
                                <div class="collapse" id="pagesCollapseError" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordionPages">
                                    <nav class="sb-sidenav-menu-nested nav">
                                        <a class="nav-link" href="401.html">401 Page</a>
                                        <a class="nav-link" href="404.html">404 Page</a>
                                        <a class="nav-link" href="500.html">500 Page</a>
                                    </nav>
                                </div>
                            </nav>
                        </div>
                        <div class="sb-sidenav-menu-heading">Addons</div>
                        <a class="nav-link" href="charts.html">
                            <div class="sb-nav-link-icon"><i class="fas fa-chart-area"></i></div>
                            Write
                        </a>
                        <a class="nav-link" href="tables.html">
                            <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                            Memo
                        </a>
                    </div>
                </div>
                <div class="sb-sidenav-footer">
                    <div class="small">Logged in as:</div>
                    Start Bootstrap
                </div>
            </nav>
        </div>
        <div id="layoutSidenav_content" style="background-color: rgb(22, 26, 30); border-radius: 15px;">
            <main>



                <!-- 섹터 -->
                <div class="container-fluid px-4">
                    <h1 class="mt-4" style="color: white;">${title}</h1>
                    <ol class="breadcrumb mb-4">
                        <li class="breadcrumb-item active" style="color: #b9c0d3;">${subCntn}</li>
                    </ol>
                    <div class="card mb-4" style="background-color: rgb(22, 26, 30); color: white; border: 1px solid #333;">
                    <div class="card-body">
                        <!-- include area -->
                        <p class="mb-0">
                            <div class="card-body">


                                <!-- jytest 템플릿 안에 들어갈 html (model.addAttribute("view", ...)) -->                                
                                <p class="mb-0">
                                    <!-- **************************************************************** -->
                                    <!-- **************************************************************** -->

                                    <h3 id="quoteIndexTitle">
                                        <span style="color: #CCCCCC; font-weight: bold;">Auto My CoinList</span>
                                    </h3>
                                    
                                    <div class="top">
                                        <div class="top-m1">
                                            <span>조회된 코인수 : </span><span>41</span>
                                        </div>
                                        <!-- searchUP_DOWN 파라미터에 따라 보여주기/감추기 작동하게끔 수정하기 -->
                                        <div class="top-m2">
                                            <span>총 수익/손실금 : </span><span>-561,243</span>
                                        </div>
                                    </div>
                                    
                                    <!-- 자동거래여부 ajax 관련 form -->
                                    <form id="tradeUseForm" name="tradeUseForm" method="post">
                                        <input type="hidden" id="MARKET" name="MARKET" value="" />
                                        <input type="hidden" id="TRADE_USE_YN" name="TRADE_USE_YN" value="" />
                                    </form>
                                    
                                    <!-- 조회 form -->
                                    <div class="searchBox">
                                        <form id="searchForm" name="searchForm" method="post">
                                            <span style="font-weight: bold;">상승(UP) | 하락(Down)</span>
                                            <select class="ctl_input_1" name="searchUP_DOWN" onchange="fnSearch();" style="cursor: pointer; font-size: 1em;">
                                                <option id="UP" value="UP">상승</option>
                                                <option id="DOWN" value="DOWN" selected>하락</option>
                                            </select>
                                            <span style="font-weight: bold;">자동거래유무(Y/N)</span>
                                            <select class="ctl_input_1" name="searchTRADE_USE_YN" onchange="fnSearch();" style="cursor: pointer; font-size: 1em;">
                                                <option id="Y" value="Y" selected>Y</option>
                                                <option id="N" value="N">N</option>
                                            </select>
                                            <button type="button" class="btn btn-primary" id="btnSearch" name="btnSearch"><i class="fas fa-search"></i></button>
                                        </form>
                                    </div>
                                    
                                    <table class="quoteIndexContainer">
                                        <colgroup>
                                            <col width="10.5%">
                                            <col width="10.5%">
                                            <col width="10.5%">
                                            <col width="10.5%">
                                            <col width="10.5%">
                                            <col width="10.5%">
                                            <col width="10.5%">
                                            <col width="10.5%">
                                            <col width="10.5%">
                                        </colgroup>
                                        <thead>
                                        <tr>
                                            <th><h1>마켓</h1></th>
                                            <th><h1>한글이름</h1></th>
                                            <th><h1>매수금액(KRW)</h1></th>
                                            <th><h1>하락/상승률(%)</h1></th>
                                            <th><h1>수익/손실금</h1></th>
                                            <th><h1>펌핑</h1></th>
                                            <th><h1>자동거래여부</h1></th>
                                            <th><h1>자동거래여부</h1></th>
                                            <th><h1>자동거래여부</h1></th>
                                        </tr>
                                        </thead>
                                        <tbody id="selectList">
                                            <tr>
                                                <td id="rnum">CCC</td>
                                                <td id="market" onclick="fnMoveToUpbit('${list.MARKET}');">AAA</td>
                                                <td id="kor_nm">CCC</td>
                                                <td id="low_price">CCC</td>
                                                <td id="opening_price">CCC</td>
                                                <td id="high_price">CCC</td>
                                                <td id="rise_price" style="color: red;">CCC</td>
                                                <td id="change">CCC</td>
                                                <td><button id="openPumpModal" name="openPumpModal" type="button" onclick="fnOpenPump('${list.MARKET}');">pump</button></td>
                                            </tr>                                            	
                                        </tbody>
                                    </table>
                                    <!-- **************************************************************** -->
                                    <!-- **************************************************************** -->
                                </p>
                            </div>
                        </p>
                    </div>
                </div>
    
                <!-- Top버튼 -->
                <span id="topBtn" class="TOP">
                    <span class="material-icons" style="font-size: 70px; color: white;">file_upload</span>
                </span>
    
                <!-- 물타기계산기 모달 -->
                <div class="modal">
                    <div class="modal_body">
                        <span style="font-weight: bold; color: #333; font-size: 1.2em;">Carculater</span>
                        <div>
                            <jsp:include page="/WEB-INF/views/modal/Carculater.jsp"></jsp:include>
                        </div>
                    </div>
                </div>
                <div style="height: 100vh"></div>
    
    
            </main>
            <footer class="py-4 bg-light mt-auto">
                <div class="container-fluid px-4">
                    <div class="d-flex align-items-center justify-content-between small">
                        <div class="text-muted">Copyright &copy; Your Website 2021</div>
                        <div>
                            <a href="#">Privacy Policy</a>
                            &middot;
                            <a href="#">Terms &amp; Conditions</a>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    
    <form id="empty" name="empty" method="post">
        <input type="hidden" id="nullValue" name="nullValue" />
    </form>


    <script type="text/javascript">

        $(document).ready(function() {
        
        });


        /**			Top 버튼 Start 		**/
        let Top = document.querySelector('#topBtn');
    
        window.addEventListener('scroll', function(){
            if(this.scrollY > 100){
                Top.classList.add('on')
            }else{
                Top.classList.remove('on')
            }
        });
        Top.addEventListener('click', function(el){
            el.preventDefault()
            window.scrollTo({
                top: 0
            })
        });
        /**			Top 버튼 End 		**/
    
    
        /**         모달띄우기 Start      **/
        const body = document.querySelector('body');
        const modal = document.querySelector('.modal');
        const btnOpenPopup = document.querySelector('#btn-open-popup');
    
        btnOpenPopup.addEventListener('click', () => {
            modal.classList.toggle('show');
    
            if (modal.classList.contains('show')) {
                body.style.overflow = 'hidden';
            }
        });
    
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.classList.toggle('show');
    
                if (!modal.classList.contains('show')) {
                    body.style.overflow = 'auto';
                }
            }
        });
        /**         모달띄우기 End      **/
    
    
        // 전체자동매수취소 ( T_COIN_MY_LIST.TRADE_USE_YN = 'N' 으로 전체 UPDATE )
        function fnCancleAutoTrade() {
    
            if(confirm("전체 자동매수를 취소하시겠습니까?")) {
                fnAjaxSubmit('<c:url value="/api/cancleTradeAuto" />', "#empty", function(data) {
                    alert(data.msg);
                });
            }
        }
    
    </script>
</body>
</html>